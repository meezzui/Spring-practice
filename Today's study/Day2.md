### μλ°”μ—μ„ μμ΅΄μ„± κ΄€κ³„λ€?
+ ν”„λ΅κ·Έλλ°μ—μ„ μμ΅΄ κ΄€κ³„λ” μ–΄λ–¤ ν΄λμ¤μ—μ„ λ‹¤λ¥Έ ν΄λμ¤κ°€ newλ¥Ό ν†µν•΄μ„ μΈμ¤ν„΄μ¤λλλƒμ— λ”°λΌ κ²°μ •λλ‹¤.
+ μ–΄λ–¤ ν΄λμ¤μ κΈ°λ¥μ΄ λ‹¤λ¥Έ ν΄λμ¤μ κΈ°λ¥μ— μμ΅΄ν•λ” κ²ƒμ΄λ‹¤.
+ ν”„λ΅κ·Έλλ°μ—μ„ μμ΅΄ κ΄€κ³„λ” `new` λ΅ ν‘ν„λλ‹¤!!!πƒ

### μΏΌλ¦¬ μ¤νΈλ§μ΄λ€?
+ μ‚¬μ©μκ°€ μ…λ ¥ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ” λ°©λ²•μ¤‘μ ν•λ‚λ΅, url μ£Όμ†μ— λ―Έλ¦¬ ν‘μλ λ°μ΄ν„°λ¥Ό νλΌλ―Έν„°λ¥Ό ν†µν•΄ λ„κΈ°λ” κ²ƒμ„ λ§ν•λ‹¤.
+ query parameters( λ¬Όμν‘ λ’¤μ— = λ΅ μ—°κ²°λ key value pair λ¶€λ¶„)μ„ url λ’¤μ— λ§λ¶™μ—¬μ„ μ¶”κ°€μ μΈ μ •λ³΄λ¥Ό μ„λ²„ μΈ΅μ— μ „λ‹¬ν•λ” κ²ƒμ΄λ‹¤. 
+ μ •ν•΄μ§„ μ—”λ“ν¬μΈνΈ μ£Όμ† μ΄ν›„μ— ?λ¥Ό μ“°λ”κ²ƒμΌλ΅ μΏΌλ¦¬μ¤νΈλ§μ΄ μ‹μ‘ν•¨μ„ μ•λ¦°λ‹¤
+ νλΌλ―Έν„°κ°€ μ—¬λ¬κ°μΌ κ²½μ° &λ¥Ό λ¶™μ—¬ μ—¬λ¬κ°μ νλΌλ―Έν„°λ¥Ό λ„κΈΈ μ μλ‹¤. `μ—”λ“ν¬μΈνΈμ£Όμ†/μ—”λ“ν¬μΈνΈμ£Όμ†?νλΌλ―Έν„°=κ°’&νλΌλ―Έν„°=κ°’`
+ = λ΅ key μ™€ value κ°€ κµ¬λ¶„λλ‹¤. 



### μ¤λμ μ–΄λ…Έν…μ΄μ…
---
#### @RequiredArgsConstructor VS @Autowired
+ κ³µν†µμ  : λ‘λ‹¤ μμ΅΄μ„±μ„ μ£Όμ…ν•¨.
+ @RequiredArgsConstructor :  μ–΄λ…Έν…μ΄μ…μ€ μƒμ„±μ μ£Όμ…μ„ νΈλ¦¬ν•κ² λ„μ™€μ£Όλ” lombok μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.
+ @Autowired : μ•μ•„μ„ μμ΅΄ κ°μ²΄(Bean) λ¥Ό μ°Ύμ•„μ„ μ£Όμ…ν•λ‹¤. λ³΄ν†µ, μΈν„°νμ΄μ¤ μ„ μ–Έ μ‹ μ‚¬μ©λλ‹¤.
+ `@RequiredArgsConstructor`λ¥Ό μ“°λ” κ²ƒμ„ λ” κ¶μ¥!!!
  + μ™??
  + μν™ μ°Έμ΅° λ°©μ§€- κ°λ°μ„ ν•λ‹¤ λ³΄λ©΄ μ—¬λ¬ μ»΄ν¬λ„νΈ κ°„μ— μμ΅΄μ„±μ΄ μƒκΈ°λ”λ° κ·Έμ¤‘μ—μ„λ„ Aκ°€ Bλ¥Ό μ°Έμ΅°ν•κ³  Bκ°€ λ‹¤μ‹ Aλ¥Ό μ°Έμ΅°ν•λ” μν™ μ°Έλ„ λ°μƒν•  μ μμµλ‹λ‹¤.
  ```
  @Autowired λ¥Ό μ‚¬μ©ν•λ©΄ 'java.lang.StackOverflowError: null' μ΄λ° μ¤λ¥ λ©”μ‹μ§€κ°€ μ „λ‹¬λμ§€λ§ μ‹¤ν–‰μ€ λλ‹¤.
  @RequiredArgsConstructor μ„ μ‚¬μ©ν•λ©΄ 'BeanCurrentlyInCreationException' μ¤λ¥κ°€ λ°μƒν•λ©° μ‹¤ν–‰μ΅°μ°¨ λμ§€ μ•λ”λ‹¤.
  ```
  + ν…μ¤νΈ μ½”λ“ μ‘μ„± μ©μ΄
  + μ½”λ“ μ•…μ·¨ μ κ±°
  + κ°μ²΄ λ³€μ΄ λ°©μ§€ (final κ°€λ¥)

#### @PathVariable VS @RequestParam
```
Type 1 => http://127.0.0.1?index=1&page=2 -> νλΌλ©”ν„°μ κ°’κ³Ό μ΄λ¦„μ„ ν•¨κ» μ „λ‹¬ν•λ” λ°©μ‹μΌλ΅ κ²μ‹ν λ“±μ—μ„ νμ΄μ§€ λ° κ²€μƒ‰ μ •λ³΄λ¥Ό ν•¨κ» μ „λ‹¬ν•λ” λ°©μ‹μ„ μ‚¬μ©ν•  λ• λ§μ΄ μ‚¬μ©.
Type 2 => http://127.0.0.1/index/1 -> Rest apiμ—μ„ κ°’μ„ νΈμ¶ν•  λ• μ£Όλ΅ λ§μ΄ μ‚¬μ©.
```
+ @RequestParam : λ‹¨μΌ νλΌλ―Έν„°λ¥Ό μ „λ‹¬λ°›μ„ λ• μ‚¬μ©.
  + Type1 κ²½μ°
  + Controller λ‹¨μ—μ„ μ‚¬μ©.
  + @RequestParam μ–΄λ…Έν…μ΄μ…μ κ΄„νΈ μ•μ κ²½μ° μ „λ‹¬μΈμ μ΄λ¦„(μ‹¤μ  κ°’μ„ ν‘μ‹)μ„ μλ―Έν•λ‹¤.
  + url λ’¤μ— λ¶™λ” νλΌλ©”ν„°μ κ°’μ„ κ°€μ Έμ¬ λ• μ‚¬μ©.( = μΏΌλ¦¬ μ¤νΈλ§μ—μ„ κ°’μ„ κ°€μ Έμ¨λ‹¤.)
+ @PathVariable : URI κ²½λ΅μ μΌλ¶€λ¥Ό νλΌλ―Έν„°λ΅ μ‚¬μ©ν•  λ• μ΄μ©(URI κ²½λ΅μ—μ„ κ°’μ„ κ°€μ Έμ¨λ‹¤)
  + Type2 κ²½μ°
  + urlμ—μ„ κ° κµ¬λ¶„μμ— λ“¤μ–΄μ¤λ” κ°’μ„ μ²λ¦¬ν•΄μ•Ό ν•  λ• μ‚¬μ©

#### @RequestBody
+ JSON λ°μ΄ν„°λ¥Ό μ›ν•λ” νƒ€μ…μ κ°μ²΄λ΅ λ³€ν™ν•΄μ•Ό ν•λ” κ²½μ°μ— μ‚¬μ©

### μ¤λμ μΌκΈ°
---
 #### @Data μ‚¬μ©    
+ request νμΌμ— @Data μ–΄λ…Έν…μ΄μ…μ„ ν•΄μ£Όμ§€ μ•μΌλ©΄ Serviceμ½μ—μ„ CRUDλ¥Ό λ§λ“¤λ• getμΌλ΅ ν•΄λ‹Ή request νμΌ μ•μ— λ³€μλ¥Ό μ‚¬μ©ν•  μ μ—†μ—λ‹¤.
+ Entity νμΌμ— @Data μ–΄λ…Έν…μ΄μ…μ„ ν•΄μ£Όμ§€ μ•μΌλ©΄ Serviceμ½μ—μ„ responseλ¥Ό λ§λ“¤λ• getμΌλ΅ ν•΄λ‹Ή μ—”ν‹°ν‹° μ•μ— λ³€μλ¥Ό μ‚¬μ©ν•  μ μ—†μ—λ‹¤.
+ why? @Data μ–΄λ…Έν…μ΄μ…μ—λ” @getter, @setter μ–΄λ…Έν…μ΄μ…μ΄ ν¬ν•¨λμ–΄ μκΈ° λ•λ¬Έμ΄λ‹¤.
+ μ¦‰, getter, setterλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ” κ³³μ—” @Data μ–΄λ…Έν…μ΄μ…μ„ ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤κµ¬!!πƒ

#### Header νμΌ
+ JPA + SpringBoot + Mysql/Oracle μ—°λ™ν•΄μ„ μ‚¬μ©ν•λ ¤λ©΄ λ¨λ“  Http ν†µμ‹ μ— HeaderλΌλ” κ³µν†µ λ¶€λ¶„μ΄ λ“¤μ–΄κ°€μ•Ό ν•λ‹¤.
+ μ λ„¤λ¦­μ„ μ‚¬μ©ν•κΈ° μ„ν•΄ λ¨λ“  ν†µμ‹ μ„ HeaderλΌλ” ν΄λμ¤μ— λ‹΄μ•„μ„ Requestμ™€ Responseλ¥Ό μν–‰ν•λ‹¤.
+ Headerμ—λ” λ‹¤μκ³Ό κ°™μ€ λ‚΄μ©μ΄ λ‹΄κ²¨μλ‹¤.
  + transaction_time (ν†µμ‹  μ‹κ°)
  + status (ν†µμ‹  μƒνƒ μ½”λ“ OK, ERROR)
  + description (μ„Έλ¶€ λ‚΄μ©:: ν†µμ‹ μ΄ λ°μƒν• μ„λ²„ μ£Όμ²΄)
  + data (λ°μ΄ν„°)

#### Optionalμ„ μ‚¬μ©ν•΄μ•Ό ν•  λ•  
+ μ–΄λ–¤ λ©”μ„λ“κ°€ Objectλ¥Ό λ¦¬ν„΄ν•λ”λ° nullμΌ κ°€λ¥μ„±μ΄ μλ‹¤? κ·Έλ ‡λ‹¤λ©΄ Optionalλ΅ λν•‘ν•λ” κ²ƒμ„ κ¶μ¥.

#### orElseGet()  
+ Optional ν΄λμ¤μ λ©”μ†λ“λ‹¤.
+ μ¤ν”„λ§μ—μ„  DBμ—μ„ λ°μ΄ν„°λ¥Ό κΊΌλ‚Ό λ•, μ°Ύλ” λ°μ΄ν„°κ°€ μ—†μ„ κ²½μ°κ°€ μκΈ° λ•λ¬Έμ— Optional νƒ€μ…μΌλ΅ κΊΌλ‚Έλ‹¤.
+ μ•„λμ²λΌ λλ‹¤μ‹μ„ ν†µν•΄ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•κ³  λ°ν™ν•λ‹¤.
```java
 Optional<MiniBoard> miniBoardOptional = baseRepository.findById(id);
        return miniBoardOptional.map(miniBoard -> {
            baseRepository.delete(miniBoard);
            return Header.OK();
        }).orElseGet(() -> Header.ERROR("λ°μ΄ν„° μ—†μ"));
```
+ .orElse VS .orElseGet μ°¨μ΄μ 
  + orElse() : Optional λ‚΄λ¶€ κ°μ²΄μ μƒνƒμ™€ μƒκ΄€μ—†μ΄ λ¬΄μ΅°κ±΄ μ‹¤ν–‰λ¨. - Optional λ‚΄λ¶€ κ°μ²΄κ°€ not nullμ΄λΌμ„ orElseκ°€ κ²°κ³Όκ°’μ„ λ°ν™ν•μ§€λ” μ•λ”λΌλ„ μ‹¤ν–‰λλ‹¤.
  + orElseGet() : λ‚΄λ¶€ κ°μ²΄κ°€ nullμΈ κ²½μ°μ—λ§ μ‹¤ν–‰λλ‹¤.

#### CrudInterface μΈν„°νμ΄μ¤ νμΌ
+ κ³µν†µ λ¶€λ¶„μΈ CRUDλ¥Ό ν•λ‚μ CrudInterfaceλ΅ κ΄€λ¦¬ν•κΈ° μ„ν•΄ CrudInterface μΈν„°νμ΄μ¤λ¥Ό μƒμ„±ν•λ‹¤.
+ μ λ„¤λ¦­μ„ μ‚¬μ©ν•λ©΄ νΉμ • κ°μ²΄λ§ λ“¤μ–΄μ¬ μ μκ² μ ν•ν•  μ μλ‹¤.
+ Requestκ°€ λ“¤μ–΄μ¤λ©΄ Responseλ΅ λ°ν™ν•λ” κ²ƒμ΄ κΈ°λ³Έ λ§¤μ»¤λ‹μ¦μ΄λ‹¤.
+ `public interface CrudInterface<Req, Res> { }`

#### ν¨ν‚¤μ§€ μ•μ— κµ¬μ„±μ”μ†
+ model ν¨ν‚¤μ§€ : DBμ— λ§¤ν•‘λκ±°λ‚ ν†µμ‹ μ Body λ¶€λ¶„μ— λ€μ‘ν•λ” κ°μ²΄κ°€ λ‹΄κΈΈ ν¨ν‚¤μ§€μ΄λ‹¤.
  + entity : μ‹¤μ  DBμ™€ λ§¤ν•‘λ  JPA μ—”ν‹°ν‹° ν΄λμ¤
  + request : Headerμ— Data(Entity)κ°€ κ²°ν•©λμ–΄ μ‹¤μ  ν†µμ‹ μ— ν•„μ”ν• μ •λ³΄λ¥Ό λ‹΄κ³  μλ” Request ν΄λμ¤
  + response : Requestκ°€ μ„λΉ„μ¤ λ΅μ§μ— μν•΄ κ°€κ³µλ Dataλ¥Ό Headerμ™€ κ²°ν•©λ Response ν΄λμ¤
  + header : μ”μ²­μ— ν•„μ”ν• Header μ •λ³΄λ¥Ό λ‹΄κ³  μλ” ν΄λμ¤
+ ifs ν¨ν‚¤μ§€ : CrudInterfaceλΌλ” μΈν„°νμ΄μ¤κ°€ μ΅΄μ¬ν•  μΈν„°νμ΄μ¤ ν¨ν‚¤μ§€
+ controller ν¨ν‚¤μ§€ : controller ν΄λμ¤λ“¤μ΄ μ„μΉν•  ν¨ν‚¤μ§€
+ service ν¨ν‚¤μ§€ : controllerμ—μ„ μ‚¬μ©ν•κ² λ  service logicμ΄ λ¨μ—¬μλ” ν¨ν‚¤μ§€
+ Repository ν¨ν‚¤μ§€ : Repository μΈν„°νμ΄μ¤λ“¤μ΄ λ¨μ—¬ μλ” ν¨ν‚¤μ§€.
  + Entityμ— μν•΄ μƒμ„±λ DBμ— μ ‘κ·Όν•λ” λ©”μ„λ“ `μ-findAll()` λ“¤μ„ μ‚¬μ©ν•κΈ° μ„ν• μΈν„°νμ΄μ¤μ΄λ‹¤.
  + extendsλ¥Ό ν†µν•΄μ„ μƒμ†λ°›μΌλ©΄ ν•΄λ‹Ή λ ν¬μ§€ν† λ¦¬μ κ°μ²΄λ¥Ό μ΄μ©ν•΄μ„ κΈ°λ³Έμ μΌλ΅ μ κ³µλλ” λ©”μ„λ“(save(), findAll(), get()) λ“±μ„ μ‚¬μ©ν•  μ μκ² λλ‹¤.

#### BaseService
+ BaseServiceλ” κ°κ°μ serviceμ—μ„ repositoryλ¥Ό μƒμ„±ν•΄μ„ λ‹¤λ¥Έ μ΄λ¦„μ repositoryλ¥Ό μ‚¬μ©ν•¨μ„ μ§€μ–‘ν•κΈ° μ„ν• λ©μ μΌλ΅ λ§λ“¤μ–΄μ΅λ‹¤. 
+ κ·Έλμ„ μƒμ„ repositoryμΈ JpaRepository typeμ„ ν•μΌλ΅ κ°–λ”λ‹¤.
```java
@Component // autowiredλ¥Ό λ°›κΈ° μ„ν•΄ componentλ΅ μƒμ„±
public abstract class BaseService<Req,Res,Entity> implements CrudInterface<Req,Res> {

    @Autowired(required = false) // = κΌ­ defaultλ” μ•„λ‹λ‹¤
    protected JpaRepository<Entity,Long> baseRepository;
}
```












